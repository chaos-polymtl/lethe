===============
Post-processing
===============

Lethe-DEM has built-in post-processing capabilities. All post-processing results are written as VTU, PTVU, and/or PVD files. 

The post-processing subsection of the ``.prm`` file is according to the following example:

.. code-block:: text

 subsection post-processing
  # Enable output of grid, granular temperature, and particles' average velocity
  set Lagrangian post-processing = false
  # Enable output of force chains
  set force chains = false
 end

.. note::
 By default, post-processing are set to ``false``.

--------------------------
Lagrangian post-processing
--------------------------
The ``Lagrangian post-processing`` enables VTU files output generated with the same ``output frequency`` as the particles' results (see the :doc:`../dem/simulation_control` section of this guide). The name of the generated files are the same the one chosen for the particles' results plus the suffix ``-postprocess_data``. The files include:

* The grid of the domain, with the distribution of the subdomains generated by the load balance (more information about load balancing is provided in the :doc:`../dem/model_parameters` section of this guide).

* The spatial average of the particle's velocity (in x, y, z and its norm) for each cell.

* The granular temperature for each cell.

.. important::
 The particles' average velocity and the granular temperature are cell based results calculated instantaneously at each outputting time-step. This means that they are only instantaneous spatial averages, i.e, DO NOT correspond to temporal averages measured between the outputs. For a higher resolution of the results in time, we recommend the use of a lower ``output frequency`` (:doc:`../dem/simulation_control`).

----------------------------
Force chains post-processing
----------------------------
The ``force chains`` feature enables VTU, PTVU, and PVD files to visualize force chains between particles. Generated files's names begin with the prefix ``force_chains-``. The files include:

* Lines (use wireframe display with paraview) to represent forces. 

* The force values for each line.

.. important::
 The force chains feature is not implemented for periodic domains.
