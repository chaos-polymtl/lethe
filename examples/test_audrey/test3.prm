# Listing of Parameters
# ---------------------

#---------------------------------------------------
# Simulation and IO Control
#---------------------------------------------------
subsection simulation control
    set time step                = 1e-6
    set time end       		     = 0.125
    set log frequency			 = 1000
    set output frequency         = 1000
    set output path              = ./output_collision/
    set output boundaries        = true
end

#---------------------------------------------------
# Mesh
#---------------------------------------------------
subsection mesh
    set type                 				= dealii
    set grid type            				= hyper_rectangle
    set grid arguments       				= -0.01, -0.02, -0.01 : 0.01, 0.02, 0.01 : true
    set initial refinement   				= 1
    set expand particle-wall contact search = false
end

#---------------------------------------------------
# Restart
#---------------------------------------------------
subsection restart
	set checkpoint					 = true
	set frequency 					 = 1000
	set restart       				 = false
	set filename      				 = dem
end

# --------------------------------------------------
# Model parameters
#---------------------------------------------------
subsection model parameters
  set contact detection method 		   		 = constant
  set contact detection frequency            = 1000
  set load balance method				     = dynamic
  set load balance threshold				 = 0.5
  set dynamic load balance check frequency	 = 10000
  set neighborhood threshold				 = 1.5
  set particle particle contact force method = hertz_mindlin_limit_overlap
  set particle wall contact force method     = nonlinear
  set integration method				     = velocity_verlet
  set rolling resistance torque method        = constant_resistance
end

#---------------------------------------------------
# Physical Properties
#---------------------------------------------------
subsection lagrangian physical properties
    set gx            		 			        = 0 # Only for loading
    set gy            		 			        = -9.81
    set gz						                = 0
    set number of particle types	            = 1
    subsection particle type 0
        set size distribution type		        = uniform
        set diameter            	 	        = 0.004
        set number				                = 50
        set density particles         	        = 1020
        set young modulus particles         	= 1000000
        set poisson ratio particles          	= 0.3
        set restitution coefficient particles	= 0.9
        set friction coefficient particles      = 0.3
        set rolling friction particles        	= 0.3
	end
    set young modulus wall            			= 1000000
    set poisson ratio wall            			= 0.3
    set restitution coefficient wall           	= 0.2
    set friction coefficient wall         		= 0.1
    set rolling friction wall         	      	= 0.3
end

#---------------------------------------------------
# Insertion Info
#---------------------------------------------------
subsection insertion info
  set insertion method                               = non_uniform
  set inserted number of particles at each time step = 50
  set insertion frequency                            = 1000000
  set insertion box minimum x                        = -0.01
  set insertion box minimum y                        = -0.01
  set insertion box minimum z            	         = -0.01
  set insertion box maximum x                        = 0.01
  set insertion box maximum y                        = 0.01
  set insertion box maximum z            	         = 0.01
  set insertion distance threshold                   = 1.2
  set insertion random number range                  = 0.05
  set insertion random number seed                   = 19
end

#---------------------------------------------------
# Boundary conditions DEM
#---------------------------------------------------
subsection DEM boundary conditions
   set number of boundary conditions                   = 1

   subsection boundary condition 0
       set type                                        = periodic
       set periodic id 0                               = 0
       set periodic id 1                               = 1
       set periodic direction                          = 0
   end
end