set(TEST_TARGET lethe-fluid-particles)

string(TOLOWER ${CMAKE_BUILD_TYPE} _build_type)

file(COPY particle_sedimentation_files/dem.checkpoint_controller DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.particles DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.simulationcontrol DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation.info DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation_fixed.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation.${_build_type}/mpirun=1/")

file(COPY particle_sedimentation_files/dem.checkpoint_controller DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation_adaptive_time_step.${_build_type}/serial/")
file(COPY particle_sedimentation_files/dem_1.particles DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation_adaptive_time_step.${_build_type}/serial/")
file(COPY particle_sedimentation_files/dem_1.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation_adaptive_time_step.${_build_type}/serial/")
file(COPY particle_sedimentation_files/dem_1.simulationcontrol DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation_adaptive_time_step.${_build_type}/serial/")
file(COPY particle_sedimentation_files/dem_1.triangulation DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation_adaptive_time_step.${_build_type}/serial/")
file(COPY particle_sedimentation_files/dem_1.triangulation.info DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation_adaptive_time_step.${_build_type}/serial/")
file(COPY particle_sedimentation_files/dem_1.triangulation_fixed.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation_adaptive_time_step.${_build_type}/serial/")
file(COPY particle_sedimentation_files/dem_1.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/particle_sedimentation_adaptive_time_step.${_build_type}/serial/")

file(COPY particle_sedimentation_files/dem.checkpoint_controller DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.particles DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.simulationcontrol DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation.info DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation_fixed.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_particle_sedimentation.${_build_type}/mpirun=1/")

file(COPY particle_sedimentation_files/dem.checkpoint_controller DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_lobatto_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.particles DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_lobatto_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_lobatto_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.simulationcontrol DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_lobatto_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_lobatto_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation.info DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_lobatto_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation_fixed.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_lobatto_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY particle_sedimentation_files/dem_1.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/qcm_gauss_lobatto_particle_sedimentation.${_build_type}/mpirun=1/")

file(COPY restart_particle_sedimentation_files/case.particles DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/restart_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY restart_particle_sedimentation_files/case.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/restart_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY restart_particle_sedimentation_files/case_particles.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/restart_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY restart_particle_sedimentation_files/case.simulationcontrol DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/restart_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY restart_particle_sedimentation_files/case.triangulation DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/restart_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY restart_particle_sedimentation_files/case.triangulation.info DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/restart_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY restart_particle_sedimentation_files/case.triangulation_fixed.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/restart_particle_sedimentation.${_build_type}/mpirun=1/")
file(COPY restart_particle_sedimentation_files/case.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/restart_particle_sedimentation.${_build_type}/mpirun=1/")

file(COPY dynamic_contact_search_files/dem.checkpoint_controller DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/dynamic_contact_search.${_build_type}/mpirun=1/")
file(COPY dynamic_contact_search_files/dem_1.particles DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/dynamic_contact_search.${_build_type}/mpirun=1/")
file(COPY dynamic_contact_search_files/dem_1.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/dynamic_contact_search.${_build_type}/mpirun=1/")
file(COPY dynamic_contact_search_files/dem_1.simulationcontrol DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/dynamic_contact_search.${_build_type}/mpirun=1/")
file(COPY dynamic_contact_search_files/dem_1.triangulation DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/dynamic_contact_search.${_build_type}/mpirun=1/")
file(COPY dynamic_contact_search_files/dem_1.triangulation.info DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/dynamic_contact_search.${_build_type}/mpirun=1/")
file(COPY dynamic_contact_search_files/dem_1.triangulation_fixed.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/dynamic_contact_search.${_build_type}/mpirun=1/")
file(COPY dynamic_contact_search_files/dem_1.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/dynamic_contact_search.${_build_type}/mpirun=1/")

file(COPY liquid_fluidized_bed_files/dem.checkpoint_controller DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/liquid_fluidized_bed.${_build_type}/mpirun=1/")
file(COPY liquid_fluidized_bed_files/dem_0.particles DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/liquid_fluidized_bed.${_build_type}/mpirun=1/")
file(COPY liquid_fluidized_bed_files/dem_0.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/liquid_fluidized_bed.${_build_type}/mpirun=1/")
file(COPY liquid_fluidized_bed_files/dem_0.simulationcontrol DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/liquid_fluidized_bed.${_build_type}/mpirun=1/")
file(COPY liquid_fluidized_bed_files/dem_0.triangulation DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/liquid_fluidized_bed.${_build_type}/mpirun=1/")
file(COPY liquid_fluidized_bed_files/dem_0.triangulation.info DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/liquid_fluidized_bed.${_build_type}/mpirun=1/")
file(COPY liquid_fluidized_bed_files/dem_0.triangulation_fixed.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/liquid_fluidized_bed.${_build_type}/mpirun=1/")
file(COPY liquid_fluidized_bed_files/dem_0.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/liquid_fluidized_bed.${_build_type}/mpirun=1/")

file(COPY periodic_particles_qcm_files/dem.checkpoint_controller DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm.${_build_type}/mpirun=1/")
file(COPY periodic_particles_qcm_files/dem_0.particles DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm.${_build_type}/mpirun=1/")
file(COPY periodic_particles_qcm_files/dem_0.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm.${_build_type}/mpirun=1/")
file(COPY periodic_particles_qcm_files/dem_0.simulationcontrol DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm.${_build_type}/mpirun=1/")
file(COPY periodic_particles_qcm_files/dem_0.triangulation DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm.${_build_type}/mpirun=1/")
file(COPY periodic_particles_qcm_files/dem_0.triangulation.info DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm.${_build_type}/mpirun=1/")
file(COPY periodic_particles_qcm_files/dem_0.triangulation_fixed.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm.${_build_type}/mpirun=1/")
file(COPY periodic_particles_qcm_files/dem_0.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm.${_build_type}/mpirun=1/")

file(COPY periodic_particles_qcm_opposite_flow_files/dem.checkpoint_controller DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm_opposite_flow.${_build_type}/mpirun=2/")
file(COPY periodic_particles_qcm_opposite_flow_files/dem_0.particles DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm_opposite_flow.${_build_type}/mpirun=2/")
file(COPY periodic_particles_qcm_opposite_flow_files/dem_0.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm_opposite_flow.${_build_type}/mpirun=2/")
file(COPY periodic_particles_qcm_opposite_flow_files/dem_0.simulationcontrol DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm_opposite_flow.${_build_type}/mpirun=2/")
file(COPY periodic_particles_qcm_opposite_flow_files/dem_0.triangulation DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm_opposite_flow.${_build_type}/mpirun=2/")
file(COPY periodic_particles_qcm_opposite_flow_files/dem_0.triangulation.info DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm_opposite_flow.${_build_type}/mpirun=2/")
file(COPY periodic_particles_qcm_opposite_flow_files/dem_0.triangulation_fixed.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm_opposite_flow.${_build_type}/mpirun=2/")
file(COPY periodic_particles_qcm_opposite_flow_files/dem_0.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/periodic_particles_qcm_opposite_flow.${_build_type}/mpirun=2/")

file(COPY adaptive_sparse_contacts_files/dem.checkpoint_controller DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/adaptive_sparse_contacts.${_build_type}/mpirun=1/")
file(COPY adaptive_sparse_contacts_files/dem_0.particles DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/adaptive_sparse_contacts.${_build_type}/mpirun=1/")
file(COPY adaptive_sparse_contacts_files/dem_0.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/adaptive_sparse_contacts.${_build_type}/mpirun=1/")
file(COPY adaptive_sparse_contacts_files/dem_0.simulationcontrol DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/adaptive_sparse_contacts.${_build_type}/mpirun=1/")
file(COPY adaptive_sparse_contacts_files/dem_0.triangulation DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/adaptive_sparse_contacts.${_build_type}/mpirun=1/")
file(COPY adaptive_sparse_contacts_files/dem_0.triangulation.info DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/adaptive_sparse_contacts.${_build_type}/mpirun=1/")
file(COPY adaptive_sparse_contacts_files/dem_0.triangulation_fixed.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/adaptive_sparse_contacts.${_build_type}/mpirun=1/")
file(COPY adaptive_sparse_contacts_files/dem_0.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/adaptive_sparse_contacts.${_build_type}/mpirun=1/")

file(COPY spouted_bed_load_balancing_files/dem.checkpoint_controller DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/spouted_bed_load_balancing.${_build_type}/mpirun=2/")
file(COPY spouted_bed_load_balancing_files/dem_0.particles DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/spouted_bed_load_balancing.${_build_type}/mpirun=2/")
file(COPY spouted_bed_load_balancing_files/dem_0.pvdhandler DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/spouted_bed_load_balancing.${_build_type}/mpirun=2/")
file(COPY spouted_bed_load_balancing_files/dem_0.simulationcontrol DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/spouted_bed_load_balancing.${_build_type}/mpirun=2/")
file(COPY spouted_bed_load_balancing_files/dem_0.triangulation DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/spouted_bed_load_balancing.${_build_type}/mpirun=2/")
file(COPY spouted_bed_load_balancing_files/dem_0.triangulation.info DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/spouted_bed_load_balancing.${_build_type}/mpirun=2/")
file(COPY spouted_bed_load_balancing_files/dem_0.triangulation_fixed.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/spouted_bed_load_balancing.${_build_type}/mpirun=2/")
file(COPY spouted_bed_load_balancing_files/dem_0.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/spouted_bed_load_balancing.${_build_type}/mpirun=2/")
file(COPY spouted_bed_load_balancing_files/spouted_structured.msh DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/spouted_bed_load_balancing.${_build_type}/mpirun=2/")

file(COPY restart_fluidized_bed_files/restart.particles DESTINATION                    "${CMAKE_CURRENT_BINARY_DIR}/restart_gas_solid_fluidized_bed.${_build_type}/mpirun=2/")
file(COPY restart_fluidized_bed_files/restart_particles.pvdhandler DESTINATION        "${CMAKE_CURRENT_BINARY_DIR}/restart_gas_solid_fluidized_bed.${_build_type}/mpirun=2/")
file(COPY restart_fluidized_bed_files/restart.pvdhandler DESTINATION                  "${CMAKE_CURRENT_BINARY_DIR}/restart_gas_solid_fluidized_bed.${_build_type}/mpirun=2/")
file(COPY restart_fluidized_bed_files/restart.simulationcontrol DESTINATION           "${CMAKE_CURRENT_BINARY_DIR}/restart_gas_solid_fluidized_bed.${_build_type}/mpirun=2/")
file(COPY restart_fluidized_bed_files/restart.triangulation DESTINATION               "${CMAKE_CURRENT_BINARY_DIR}/restart_gas_solid_fluidized_bed.${_build_type}/mpirun=2/")
file(COPY restart_fluidized_bed_files/restart.triangulation_fixed.data DESTINATION    "${CMAKE_CURRENT_BINARY_DIR}/restart_gas_solid_fluidized_bed.${_build_type}/mpirun=2/")
file(COPY restart_fluidized_bed_files/restart.triangulation.info DESTINATION          "${CMAKE_CURRENT_BINARY_DIR}/restart_gas_solid_fluidized_bed.${_build_type}/mpirun=2/")
file(COPY restart_fluidized_bed_files/restart.triangulation_variable.data DESTINATION "${CMAKE_CURRENT_BINARY_DIR}/restart_gas_solid_fluidized_bed.${_build_type}/mpirun=2/")
file(COPY restart_fluidized_bed_files/pressure_drop.checkpoint DESTINATION            "${CMAKE_CURRENT_BINARY_DIR}/restart_gas_solid_fluidized_bed.${_build_type}/mpirun=2/")

deal_ii_pickup_tests()

if(CMAKE_BUILD_TYPE STREQUAL "Debug")
  set_tests_properties(lethe-fluid-particles/particle_sedimentation.mpirun=1.debug PROPERTIES TIMEOUT 1200)
  set_tests_properties(lethe-fluid-particles/restart_particle_sedimentation.mpirun=1.debug PROPERTIES TIMEOUT 1200)
  set_tests_properties(lethe-fluid-particles/dynamic_contact_search.mpirun=1.debug PROPERTIES TIMEOUT 1200)
  set_tests_properties(lethe-fluid-particles/liquid_fluidized_bed.mpirun=1.debug PROPERTIES TIMEOUT 5000)
  set_tests_properties(lethe-fluid-particles/qcm_gauss_lobatto_particle_sedimentation.mpirun=1.debug PROPERTIES TIMEOUT 1200)
  set_tests_properties(lethe-fluid-particles/qcm_gauss_particle_sedimentation.mpirun=1.debug PROPERTIES TIMEOUT 1200)
  set_tests_properties(lethe-fluid-particles/explicit-particle-sedimentation-project.debug PROPERTIES TIMEOUT 1200)
  set_tests_properties(lethe-fluid-particles/implicit-particle-sedimentation-project.debug PROPERTIES TIMEOUT 1200)
  set_tests_properties(lethe-fluid-particles/semi-implicit-particle-sedimentation-project.debug PROPERTIES TIMEOUT 1200)
endif()
